改造后编译
step1:./configure.in
step2:./configure
step3:make
ubuntu 
step1:./autogen.sh
step2:./configure
关键的代码，会存在执行失败，不应该用if判断，需要用do{...}while(FUNC_OK != function());
动态分配空间谨防分配内存太小，发生越界
开机自启动 crontab -e
日志分文件存放，可以根据写日志条数进行判断，当写入400条时备份当前正在写的文件，重新创建一个文件继续写日志
日志构成
Interaction init_sys_cmd_list error at open ini
---模块---- ----函数--------- 状态     --原因--
一般 模块 函数 状态 必须，当失败时需要有原因。
五要素（谁（who，模块）在什么时间（when，不用记录）为什么（why。函数名）做了什么事（what比如调用某个函数，分配内存，可详细记录）结果如何（ret，成功失败？））
proxy main read start.config success;
proxy main read start.config error at not found start.config;
moudle function do things success; 
状态（begin/end error/success）
发生改变（文件修改，配置文件发生改变）需要记录改变时间不用记录 日志自动记录时间
一般一个完整的流程执行成功不记录日志，或者只记录一条日志，
不能记录随着时间自动打印运行日志，或者打印周期需要较长，最多一小时打印一条
所有数据必须从数据域取出，如获取代理端ip，从ip包获取可能出现转包，在网关将包重新打包，
对方获取的就是网关的ip，应该讲代理端的ip，主机信息等作为数据发送，不会被网关重新封包冲掉，管理端进行解包，获取ip地址信息。
防止频繁申请，释放空间。不要大量重复做无用功，时间换空间，空间换时间，度要把握好

插件的管理，管理端可以远程操作，插件的更新 禁用 移除 卸载等,插件详情函数（对函数进行描述），待主程序调用返回给管理端
插件信息获取 插件主要信息（插件id 插件状态，插件名，插件版本，预留）
插件管理配置文件 插件id 插件状态，插件名。。。
插件版本ver1.0.2.32
热升级主应用。
获取升级的主程序版本
（将主程序文件存放在一个目录下面，
获取时列出所有主程序版本，
选择一个进行升级，选择之后拷贝到指定目录下），
停插件，停服务，调用替换主程序代码
（载主程序退出后拷贝指定目录下的主程序文件到运行目录下，启动服务）;。
主版本描述函数，待管理端调用
功能插件化完全可以应用手机系统和app的关系  手机系统就是主程序，app就是插件
插件升级前先获取插件详情，（1.判断插件是否合法，而给用户判断 插件是否适合当前主程序版本）
主程序更新也需获取主程序详情，判断是否合法，提示用户当前支持的功能或者其他信息，并提醒用户可能某些插件会不可用，
主程序更新完毕，扫描所有插件信息。有可能需要更新配置文件，if没有相应字段，需要添加。主程序降级不需要删除相应字段
判断文件是否存在（不存在，安装规则创建文件），
存在，判断是否被破坏（被破坏，移动文件到指定路径下备份（bak/filename/date[2017_12_05_17_23]/））存在且未被破坏，打开。
系统保活，可以保持一直有socket tcp服务，保证服务器一直连接，发送心跳包。如站点拓扑，服务器能接收到的客户端，或者服务相关的站点
系统多活设计，保证至少有备份方案。
所有参数均可配置化且有默认值，获取不到参数，使用默认值

未做完的事要跟踪，如malloc的内存，需要在外部释放，需要注明，追踪到释放后。


系统设置无人值守，正常运行后不需要人工干预，也不预留人工干预接口。用户注册使用邮箱，用户自主退订等，部署插件等。正常运营中无需干预。
微信商贸系统
商贸宝t
位与 5&2 ==0 位或 5|2 == 1
仓库 货架 仓库管理员
进货表，（货物编码，数量，实际进价，仓库编号，货架，....）〔进货视图（货物编码，货物名称，数量，建议进价，实际进价，仓库编号，货架编号）〕
货物列表（编码，名称，建议进价，建议售价）
库存表，（编码，数量，仓库编号，货架编号）
仓库表，人员表，货架表
销售表
配置文件管理，更新数据 set数据，查看数据
产品图片
反盗号系统

火车班次数据获取
支付记录发生的位置
钉钉加入任务单
服务器权限管理，加入访问控制，特定的ip才可以访问
数据指纹，数据的相似性探索
用户级别的自学习，用户状态排行 搜索热度
用户的自学习，搜索记录等。
个人基础资料授权机构
个人信息管理软件，恭第三方软件获取。
手机号，身份证号，姓名，住址，微信号，qq号等


监听，相同脉搏的唤醒也可以，针对低频通信，没有必要一直建立通信，可以使用脉搏通信，建立通信时采用长通信。